@page
@model WorkersListModel
@{
}


<style> 
    #worker-table table, #worker-table table tr  {
          border: 1px solid black;
          border-collapse: collapse;
    }   
    
    #worker-table table td { 
            padding: 4px 8px;
    }

</style>

<div class="container">
    <h3> List of workers </h3>
    <div class="row mt-3">
        <div id="worker-table" class="col-md-8"> 
            @if(Model.Workers != null && Model.Workers.Count () > 0){
                <table> 
                    <thead>
                        <tr>
                            <th>  @Html.DisplayNameFor(model => model.Workers[0].Id) </th>
                            <th>  @Html.DisplayNameFor(model => model.Workers[0].Name) </th>
                            <th>  @Html.DisplayNameFor(model => model.Workers[0].Surname) </th>
                            <th>  @Html.DisplayNameFor(model => model.Workers[0].IsActive) </th>
                        </tr>
                    </thead>
                    @foreach (var (elem, index) in Model.Workers.Select((value, i) => (value,i+1))) {
                        var isActive = elem.IsActive ? "Yes" : "No"; 
                        <tr>
                            <td> @Html.DisplayFor(modelItem => index)</td>
                            <td> @Html.DisplayFor(modelItem => elem.Name) </td>
                            <td> @Html.DisplayFor(modelItem => elem.Surname)</td>
                            <td> @isActive </td>
                            <td> <a href=@($"./?workerId={elem.Id}")> <button>Details</button>  </a></td>
                        </tr>
                    }
                </table>
            }

        </div>
    </div>
    <div class="row mt-3">
        <a asp-page="./Create/"> <button class="btn btn-primary"> Add worker </button> </a>
    </div>
</div>